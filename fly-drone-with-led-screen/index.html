<!DOCTYPE html><html lang="en" class="no-js"><head><title>Programming my Tello Drone with Arduino and Goodwill ‚Äì Loris Occhipinti</title><meta name="description" content="Random access stories about software engineering."><meta name="robots" content="index,follow"><meta name="generator" content="Eleventy"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="twitter:site" content="@ghost"><meta name="twitter:creator" content=""><meta name="twitter:card" content="summary_large_image"><meta name="twitter:url" content="https://blog.lorisocchipinti.com/fly-drone-with-led-screen/"><meta name="twitter:title" content="Programming my Tello Drone with Arduino and Goodwill ‚Äì Loris Occhipinti"><meta name="twitter:description" content="Among all the impulse purchases of this year, my quadcopter is one I don't regret at all. In general, I was always fascinated by drones (it's understandable, they are flying robots after all) and I like programming stuff - so I decided to get the best of both worlds and go buy my own. The market offers a few alternatives, but my ideal drone had to feature the following must-haves:

 * it would be programmable in a full-fledged language like C or Python
 * it would have at least a camera, and may"><meta name="twitter:image" content="https://blog.lorisocchipinti.com/content/images/2022/12/tello-talent-6.jpg"><link rel="author" href=""><link rel="publisher" href="https://blog.lorisocchipinti.com"><meta itemprop="name" content="Programming my Tello Drone with Arduino and Goodwill ‚Äì Loris Occhipinti"><meta itemprop="description" content="Among all the impulse purchases of this year, my quadcopter is one I don't regret at all. In general, I was always fascinated by drones (it's understandable, they are flying robots after all) and I like programming stuff - so I decided to get the best of both worlds and go buy my own. The market offers a few alternatives, but my ideal drone had to feature the following must-haves:

 * it would be programmable in a full-fledged language like C or Python
 * it would have at least a camera, and may"><meta itemprop="image" content="https://blog.lorisocchipinti.com/content/images/2022/12/tello-talent-6.jpg"><meta property="og:url" content="https://blog.lorisocchipinti.com/fly-drone-with-led-screen/"><meta property="og:type" content="website"><meta property="og:title" content="Programming my Tello Drone with Arduino and Goodwill ‚Äì Loris Occhipinti"><meta property="og:image" content="https://blog.lorisocchipinti.com/content/images/2022/12/tello-talent-6.jpg"><meta property="og:description" content="Among all the impulse purchases of this year, my quadcopter is one I don't regret at all. In general, I was always fascinated by drones (it's understandable, they are flying robots after all) and I like programming stuff - so I decided to get the best of both worlds and go buy my own. The market offers a few alternatives, but my ideal drone had to feature the following must-haves:

 * it would be programmable in a full-fledged language like C or Python
 * it would have at least a camera, and may"><meta property="og:site_name" content="Loris Occhipinti"><meta property="og:locale" content="en"><meta property="article:author" content="https://blog.lorisocchipinti.com"><style>:root{--color-primary:#3eb0ef;--color-base:#15171a;--color-secondary:#5b7a81;--color-border:#c7d5d8;--color-bg:#f5f5f5;--font-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;--font-serif:Georgia,Times,serif;--font-mono:Menlo,Courier,monospace;--font-light:100;--font-normal:400;--font-bold:700;--font-heavy:800;--height:4rem;--margin:2rem;--radius:0.6rem}a,abbr,acronym,address,applet,article,aside,audio,big,blockquote,body,canvas,caption,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,ul,var,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-spacing:0;border-collapse:collapse}img{max-width:100%;height:auto}html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*,:after,:before{box-sizing:inherit}a{background-color:transparent}a:active,a:hover{outline:0}b,strong{font-weight:700}dfn,em,i{font-style:italic}h1{margin:.67em 0;font-size:2em}small{font-size:80%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}mark{background-color:#fdffb6}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit}button{overflow:visible;border:none}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;-webkit-appearance:button}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input{line-height:normal}input:focus{outline:0}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{box-sizing:content-box;-webkit-appearance:textfield}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}legend{padding:0;border:0}textarea{overflow:auto}table{border-spacing:0;border-collapse:collapse}td,th{padding:0}html{overflow-x:hidden;overflow-y:scroll;font-size:62.5%;background:var(--color-base);-webkit-tap-highlight-color:transparent}body{overflow-x:hidden;color:#3c484e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;font-size:1.5rem;line-height:1.6em;font-weight:400;font-style:normal;letter-spacing:0;text-rendering:optimizeLegibility;background:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-font-feature-settings:"liga" on}::selection{text-shadow:none;background:#cbeafb}hr{position:relative;display:block;width:100%;margin:1.8em 0 2.4em;padding:0;height:1px;border:0;border-top:1px solid #e3e9ed}audio,canvas,iframe,img,svg,video{vertical-align:middle}fieldset{margin:0;padding:0;border:0}textarea{resize:vertical}blockquote,dl,ol,p,ul{margin:0 0 1.5em 0}ol,ul{padding-left:1.3em;padding-right:1.5em}ol ol,ol ul,ul ol,ul ul{margin:.5em 0 1em}ul{list-style:disc}ol{list-style:decimal}ol,ul{max-width:100%}li{margin:.5em 0;padding-left:.3em;line-height:1.6em}dt{float:left;margin:0 20px 0 0;width:120px;font-weight:500;text-align:right}dd{margin:0 0 5px 0;text-align:left}blockquote{margin:.3em 0 1.8em;padding:0 1.6em 0 1.6em;border-left:#cbeafb .5em solid}blockquote p{margin:.8em 0;font-size:1.2em;font-weight:300}blockquote small{display:inline-block;margin:.8em 0 .8em 1.5em;font-size:.9em;opacity:.8}blockquote small:before{content:"\2014 \00A0"}blockquote cite{font-weight:700}blockquote cite a{font-weight:400}a{color:#26a8ed;text-decoration:none}a:hover{text-decoration:underline}h1,h2,h3,h4,h5,h6{margin-top:0;color:var(--color-base);line-height:1.15;font-weight:700;text-rendering:optimizeLegibility}h1{margin:0 0 .5em 0;font-size:4rem;font-weight:700}@media (max-width:500px){h1{font-size:2rem}}h2{margin:1.5em 0 .5em 0;font-size:2rem}@media (max-width:500px){h2{font-size:1.8rem}}h3{margin:1.5em 0 .5em 0;font-size:1.8rem;font-weight:500}@media (max-width:500px){h3{font-size:1.7rem}}h4{margin:1.5em 0 .5em 0;font-size:1.6rem;font-weight:500}h5{margin:1.5em 0 .5em 0;font-size:1.4rem;font-weight:500}h6{margin:1.5em 0 .5em 0;font-size:1.4rem;font-weight:500}.viewport{display:flex;flex-direction:column;justify-content:space-between;min-height:100vh}.container{max-width:1120px;margin:0 auto;padding:0 4vw}.content{margin:0 auto;font-size:2rem;line-height:1.7em}.content-body{display:flex;flex-direction:column;font-family:var(--font-serif)}.post-full-content{max-width:720px;margin:0 auto;background:#fff}.post-full-content figcaption{margin:1em 3em 0;font-size:55%;line-height:1.6em;text-align:center;font-weight:400}.post-feature-image img{margin:0 0 3vw;width:100%;height:500px;object-fit:cover}.content-body h1,.content-body h2,.content-body h3,.content-body h4,.content-body h5,.content-body h6{font-family:var(--font-sans-serif)}.content-body h1{margin:1em 0 .5em 0;font-size:3.4rem;font-weight:700}@media (max-width:500px){.content-body h1{font-size:2.8rem}}.content-title{margin:0 0 .8em;font-size:5rem}@media (max-width:500px){.content-title{margin:.8em 0;font-size:3.4rem}.content{font-size:1.8rem}}.content-body h2{margin:.8em 0 .4em 0;font-size:3.2rem;font-weight:700}@media (max-width:500px){.content-body h2{font-size:2.6rem}}.content-body h3{margin:.5em 0 .2em 0;font-size:2.8rem;font-weight:700}@media (max-width:500px){.content-body h3{font-size:2.2rem}}.content-body h4{margin:.5em 0 .2em 0;font-size:2.4rem;font-weight:700}@media (max-width:500px){.content-body h4{font-size:2.2rem}}.content-body h5{display:block;margin:.5em 0;padding:1em 0 1.5em;border:0;font-family:Georgia,serif;color:var(--color-primary);font-style:italic;font-size:3.2rem;line-height:1.35em;text-align:center}.content-body h6{margin:.5em 0 .2em 0;font-size:2rem;font-weight:700}.content-body figure{margin:.4em 0 1.6em;font-size:2.8rem;font-weight:700}.content-body pre{margin:.4em 0 1.8em;font-size:1.6rem;line-height:1.4em;white-space:pre-wrap;padding:20px;background:var(--color-base);color:#fff;border-radius:12px}.site-head{padding-top:20px;padding-bottom:20px;color:#fff;background:var(--color-base);background-position:center;background-size:cover}.site-nav-item{display:inline-block;padding:5px 10px;color:#fff;opacity:.7}.site-nav-item:hover{text-decoration:none;opacity:1}.site-nav-right .site-nav-button{margin-left:.3rem}.site-nav-icon{height:15px;margin:-5px 0 0;vertical-align:baseline}.site-logo{height:25px}.site-mast{display:flex;align-items:center;justify-content:space-between}.site-mast-right{display:flex;align-items:center}.site-mast-right .site-nav-item:last-child{padding-right:0}.site-banner{max-width:80%;margin:0 auto;padding:10vw 0;text-align:center}.site-banner-title{margin:0;padding:0;color:#fff;font-size:4rem;line-height:1.3em}.site-banner-desc{margin:5px 0 0 0;padding:0;font-size:2.4rem;line-height:1.3em;opacity:.7}.site-nav{display:flex;align-items:center;justify-content:space-between;margin:15px 0 0 0}.site-nav-left{margin:0 20px 0 -10px}.site-nav-button{display:inline-block;padding:5px 10px;border:#fff 1px solid;color:#fff;font-size:1.3rem;line-height:1em;border-radius:var(--radius);opacity:.7}.site-nav-button:hover{text-decoration:none}.site-main{padding:4vw 0}.post-feed{display:grid;justify-content:space-between;grid-gap:30px;grid-template-columns:1fr 1fr 1fr}@media (max-width:980px){.post-feed{grid-template-columns:1fr 1fr}}@media (max-width:680px){.post-feed{grid-template-columns:1fr}}.post-card{color:inherit;text-decoration:none}.post-card:hover{text-decoration:none}.post-card-header{display:flex;flex-direction:column}.post-card-tags{margin:0 0 5px 0;font-size:1.4rem;line-height:1.15em;color:var(--color-secondary)}.post-card-title{margin:0 0 10px 0;padding:0}.post-card-excerpt{font-size:1.6rem;line-height:1.55em}.post-card-image{margin:0 0 10px 0;width:auto;height:200px;background:var(--color-secondary) no-repeat center center;background-size:cover;object-fit:cover}.post-card-footer{display:flex;align-items:center;justify-content:space-between;margin:10px 0 0 0;color:var(--color-secondary)}.post-card-footer-left{display:flex;align-items:center}.post-card-footer-right{display:flex;flex-direction:column}.post-card-avatar{width:30px;height:30px;margin:0 7px 0 0;border-radius:100%;display:flex;align-items:center;justify-content:center}.post-card-avatar .author-profile-image{display:block;width:100%;background:var(--color-secondary);border-radius:100%;object-fit:cover}.post-card-avatar .default-avatar{width:26px}.tag-header{max-width:690px;margin:0 0 4vw}.tag-header h1{margin:0 0 1rem 0}.tag-header p{margin:0;color:var(--color-secondary);font-size:2.2rem;line-height:1.3em}@media (max-width:500px){.tag-header{border-bottom:var(--color-bg) 1px solid;padding-bottom:4vw}.tag-header p{font-size:1.7rem}}.author-header{display:flex;justify-content:space-between;margin:0 0 4vw}.author-header h1{margin:0 0 1rem 0}.author-header p{margin:0;color:var(--color-secondary);font-size:2.2rem;line-height:1.3em}.author-header-image{flex:0 0 auto;margin:0 0 0 4vw;height:120px;width:120px;border-radius:100%;overflow:hidden}.author-header-meta{display:flex;margin:1rem 0 0 0}.author-header-item{display:block;padding:2px 10px}.author-header-item:first-child{padding-left:0}@media (max-width:500px){.author-header{border-bottom:var(--color-bg) 1px solid;padding-bottom:4vw}.author-header p{font-size:1.7rem}.author-header-image{height:80px;width:80px}}.pagination{position:relative;display:flex;justify-content:space-between;align-items:center;margin:4vw 0 0}.pagination a{display:inline-block;padding:10px 15px;border:var(--color-border) 1px solid;color:var(--color-secondary);text-decoration:none;font-size:1.4rem;line-height:1em;border-radius:var(--radius)}.pagination-location{position:absolute;left:50%;width:100px;margin-left:-50px;text-align:center;color:var(--color-secondary);font-size:1.3rem}.pagination span{color:var(--color-secondary);opacity:.8}.site-foot{padding:20px 0 40px 0;color:rgba(255,255,255,.7);font-size:1.3rem;background:var(--color-base)}.site-foot-nav{display:flex;align-items:center;justify-content:space-between}.site-foot-nav a{color:rgba(255,255,255,.7)}.site-foot-nav a:hover{text-decoration:none;color:#fff}.site-foot-nav-right a{display:inline-block;padding:2px 5px}.site-foot-nav-right a:last-child{padding-right:0}.kg-bookmark-card{width:100%;margin-top:0}.kg-bookmark-container{display:flex;min-height:148px;color:var(--color-base);font-family:var(--font-sans-serif);text-decoration:none;border-radius:3px;box-shadow:0 2px 5px -1px rgba(0,0,0,.15),0 0 1px rgba(0,0,0,.09)}.kg-bookmark-container:hover{color:var(--color-base);text-decoration:none;box-shadow:0 2px 5px -1px rgba(0,0,0,.15),0 0 1px rgba(0,0,0,.09)}.kg-bookmark-content{flex-grow:1;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;padding:20px}.kg-bookmark-title{color:color(var(--color-secondary) l(-30%));font-size:1.6rem;line-height:1.5em;font-weight:600;transition:color .2s ease-in-out}.kg-bookmark-container:hover .kg-bookmark-title{color:var(--color-primary)}.kg-bookmark-description{display:-webkit-box;overflow-y:hidden;margin-top:12px;max-height:48px;color:color(var(--color-secondary) l(-10%));font-size:1.5rem;line-height:1.5em;font-weight:400;-webkit-line-clamp:2;-webkit-box-orient:vertical}.kg-bookmark-thumbnail{position:relative;min-width:33%;max-height:100%}.kg-bookmark-thumbnail img{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:0 3px 3px 0;object-fit:cover}.kg-bookmark-metadata{display:flex;flex-wrap:wrap;align-items:center;margin-top:14px;color:color(var(--color-secondary) l(-10%));font-size:1.5rem;font-weight:400}.kg-bookmark-icon{margin-right:8px;width:22px;height:22px}.kg-bookmark-author{line-height:1.5em}.kg-bookmark-author:after{content:"‚Ä¢";margin:0 6px}.kg-bookmark-publisher{overflow:hidden;max-width:240px;line-height:1.5em;text-overflow:ellipsis;white-space:nowrap}.kg-gallery-container{display:flex;flex-direction:column;max-width:1040px;width:100%}.kg-gallery-row{display:flex;flex-direction:row;justify-content:center}.kg-gallery-image img{display:block;margin:0;width:100%;height:100%}.kg-gallery-row:not(:first-of-type){margin:.75em 0 0 0}.kg-gallery-image:not(:first-of-type){margin:0 0 0 .75em}.kg-gallery-card+.kg-gallery-card,.kg-gallery-card+.kg-image-card.kg-width-wide,.kg-image-card.kg-width-wide+.kg-gallery-card,.kg-image-card.kg-width-wide+.kg-image-card.kg-width-wide{margin:-2.25em 0 3em}</style><script>document.documentElement.classList.remove('no-js');</script></head><body><svg xmlns="http://www.w3.org/2000/svg" style="height:0;position:absolute" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol id="facebook" viewBox="0 0 512 512"><path fill="#fff" d="M452 0H60C26.916 0 0 26.916 0 60v392c0 33.084 26.916 60 60 60h392c33.084 0 60-26.916 60-60V60c0-33.084-26.916-60-60-60zm20 452c0 11.028-8.972 20-20 20H338V309h61.79L410 247h-72v-43c0-16.975 13.025-30 30-30h41v-62h-41c-50.923 0-91.978 41.25-91.978 92.174V247H216v62h60.022v163H60c-11.028 0-20-8.972-20-20V60c0-11.028 8.972-20 20-20h392c11.028 0 20 8.972 20 20v392z"></path></symbol><symbol id="rss" viewBox="0 0 643 643"><path fill="#fff" d="M93.299 613.7c-50.798 0-92.117-41.348-92.117-92.117 0-50.827 41.319-92.174 92.117-92.174s92.117 41.376 92.117 92.174c.028 50.77-41.319 92.117-92.117 92.117zm0-155.507c-34.894 0-63.304 28.439-63.304 63.39 0 34.922 28.41 63.304 63.304 63.304 34.893 0 63.303-28.382 63.303-63.304.029-34.95-28.381-63.39-63.303-63.39z"></path><path fill="#fff" d="M400.537 614.306h-112.2c-7.952 0-14.407-6.454-14.407-14.407 0-69.585-26.883-134.905-75.664-183.945C149.514 366.998 84.654 340 15.704 340c-7.953 0-14.407-6.454-14.407-14.406V213.336c0-7.953 6.454-14.407 14.407-14.407 220.165 0 399.27 179.883 399.27 400.969-.03 7.982-6.455 14.408-14.437 14.408zm-98.139-28.814h83.473c-7.376-193.743-162.912-349.999-355.79-357.461v83.531c71.285 3.486 137.787 33.021 188.585 84.078 50.828 51.086 80.246 118.048 83.732 189.852z"></path><path fill="#fff" d="M598.775 614.363H486.604c-7.952 0-14.406-6.454-14.406-14.407 0-253.04-204.721-458.942-456.378-458.942-7.953 0-14.407-6.454-14.407-14.407v-112.2C1.412 6.455 7.866 0 15.819 0c329.397 0 597.363 269.147 597.363 599.956a14.375 14.375 0 0 1-14.407 14.407zm-97.966-28.813h83.387C576.675 282.085 332.307 36.593 30.226 28.987v83.444c256.124 7.549 463.12 215.64 470.583 473.119z"></path></symbol><symbol id="twitter" viewBox="0 0 612.002 612.002"><path fill="#fff" d="M197.553 557.219c-68.018 0-134.159-19.371-191.294-56.047-5.333-3.428-7.591-10.066-5.469-16.051 2.122-5.986 8.189-9.795 14.42-8.896 47.912 5.576 97.919-4.164 139.873-28.16-41.491-12.461-75.228-44.594-88.859-87.199a13.57 13.57 0 0 1 2.802-13.195 13.736 13.736 0 0 1 7.346-4.244c-32.404-24.678-52.864-63.639-52.864-106.436 0-4.816 2.558-10.012 6.72-12.461 4.163-2.449 9.305-3.21 13.495-.925a67.034 67.034 0 0 0 3.646 1.932c-14.719-21.739-22.881-47.749-22.881-74.902 0-23.562 6.23-46.796 18.093-67.147 2.231-3.863 6.23-6.366 10.692-6.72a13.734 13.734 0 0 1 11.59 4.952c55.04 67.501 134.703 110.298 220.624 119.086a135.305 135.305 0 0 1-.571-12.434c0-73.65 59.937-133.588 133.587-133.588 34.199 0 67.311 13.25 92.015 36.648 22.719-5.197 44.484-13.93 64.808-25.983a13.737 13.737 0 0 1 15.399 1.061c4.408 3.537 6.204 9.414 4.489 14.801a132.455 132.455 0 0 1-18.99 37.519 214.647 214.647 0 0 0 16.678-6.584c5.469-2.503 12.025-.979 15.916 3.7 3.891 4.625 4.245 11.291.898 16.324-15.808 23.562-35.07 44.103-57.299 61.162.082 2.938.109 5.904.109 8.842.001 174.453-132.798 354.945-354.973 354.945zm-128.69-53.543c40.458 17.33 84.125 26.336 128.69 26.336 205.17 0 327.766-166.645 327.766-327.765 0-4.979-.136-9.985-.326-14.964a13.59 13.59 0 0 1 5.632-11.59 228.226 228.226 0 0 0 27.507-23.371 255.254 255.254 0 0 1-26.99 4.707c-6.312.898-12.406-2.993-14.501-9.087-2.068-6.067.381-12.76 5.877-16.08a107.521 107.521 0 0 0 28.051-24.296c-13.577 5.197-27.562 9.25-41.845 12.025-4.571.953-9.333-.571-12.543-4.026-20.024-21.331-48.348-33.574-77.677-33.574-58.659 0-106.38 47.721-106.38 106.38 0 8.135.925 16.324 2.774 24.269a13.662 13.662 0 0 1-2.829 11.808c-2.721 3.265-6.829 5.523-11.101 4.843-92.858-4.68-180.33-45.953-243.179-114.189a106.518 106.518 0 0 0-6.094 35.533c0 35.696 17.685 68.753 47.286 88.533a13.578 13.578 0 0 1 5.414 15.454c-1.85 5.768-7.591 9.25-13.358 9.468a133.043 133.043 0 0 1-38.172-6.856c8.407 42.144 40.811 75.555 83.146 84.07 6.203 1.252 10.719 6.557 10.91 12.869.218 6.285-3.917 11.916-9.985 13.604-11.726 3.184-24.051 4.979-36.104 4.734 18.229 32.24 52.456 53.217 90.655 53.979 5.741.109 10.801 3.863 12.624 9.305s0 11.482-4.517 15.02c-38.226 29.953-83.01 47.964-130.731 52.861z"></path></symbol><symbol id="link" viewBox="0 0 16 16"><path d="M5.86 12.7l-.81.8c-.7.7-1.84.7-2.54 0a1.75 1.75 0 0 1 0-2.5l2.98-2.96c.61-.61 1.77-1.52 2.62-.68a1 1 0 1 0 1.4-1.4c-1.44-1.43-3.57-1.17-5.42.67L1.1 9.6a3.72 3.72 0 0 0 0 5.32 3.78 3.78 0 0 0 5.34 0l.8-.8a1 1 0 1 0-1.39-1.42zm9.03-11.5c-1.55-1.53-3.7-1.6-5.14-.19l-1 1a1 1 0 1 0 1.39 1.41l1-1c.75-.74 1.72-.43 2.35.2a1.75 1.75 0 0 1 0 2.5l-3.17 3.15c-1.46 1.45-2.14.77-2.43.48a1 1 0 0 0-1.4 1.4c.67.67 1.43 1 2.23 1 .98 0 2.01-.5 3-1.47l3.17-3.15a3.72 3.72 0 0 0 0-5.32z"></path></symbol><symbol id="nav" viewBox="0 0 16 11"><path d="M0 12h16v-2H0v2zm0-5h16V5H0v2zm0-7v2h16V0H0z"></path></symbol></svg><div class="viewport"><div class="viewport-top"><header class="site-head" style="background-image:url(https://static.ghost.org/v4.0.0/images/publication-cover.jpg)"><div class="container"><div class="site-mast"><div class="site-mast-right"><a href="https://twitter.com/ghost" class="site-nav-item" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" class="site-nav-icon site-nav-icon--twitter" role="img" aria-labelledby="twitter-title"><title id="twitter-title">twitter</title><use xlink:href="#twitter" fill="currentColor"></use></svg> </a><a href="https://www.facebook.com/ghost" class="site-nav-item" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" class="site-nav-icon site-nav-icon--facebook" role="img" aria-labelledby="facebook-title"><title id="facebook-title">facebook</title><use xlink:href="#facebook" fill="currentColor"></use></svg> </a><a class="site-nav-item" href="https://feedly.com/i/subscription/feed/https://blog.lorisocchipinti.com/feed.xml" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" class="site-nav-icon site-nav-icon--rss" role="img" aria-labelledby="rss-title"><title id="rss-title">rss</title><use xlink:href="#rss" fill="currentColor"></use></svg></a></div></div><nav class="site-nav"><div class="site-nav-left"><a class="site-nav-item" href="/">Home </a><a class="site-nav-item" href="/about/">About</a></div><div class="site-nav-right"><a class="site-nav-button" href="/about/">About Me</a></div></nav></div></header><main class="site-main"><div class="container"><article class="content"><figure class="post-feature-image"><img src="data:image/png;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAARABkDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAUGBP/EACwQAAEDAgIGCwAAAAAAAAAAAAIAAQMEBRExBhMyM3GREhQWITZCQ1FUYcH/xAAWAQEBAQAAAAAAAAAAAAAAAAAFAwT/xAAfEQABBAICAwAAAAAAAAAAAAAAAQIEQQMhERQiMkL/2gAMAwEAAhEDEQA/AN0dIckD4CDfZOttptvWRJxON4w2sVJzSRUs8Y1tZLK7P6eSoyxGCOaCpaCm8w4ZsqzMb08V1xs1xmY2t1YxOxU1bEWqKM2bPovksXZSP2Hml1wuZ6l4bDIDY7eD96U43r5D80c7JISy3Vj2Lj34cVS3jw6XD8QhNT/kwQ7JfQzfVKqUIQr/AGUUP//Z" alt="Programming my Tello Drone with Arduino and Goodwill" data-src="/assets/images/1oDYMX-tello-talent-6.jpg" class="lazyload" width="1200" height="800"></figure><section class="post-full-content"><h1 class="content-title">Programming my Tello Drone with Arduino and Goodwill</h1><section class="content-body load-external-scripts"><p>Among all the impulse purchases of this year, my quadcopter is one I don't regret at all. In general, I was always fascinated by drones (it's understandable, they are flying robots after all) and I like programming stuff - so I decided to get the best of both worlds and go buy my own. The market offers a few alternatives, but my ideal drone had to feature the following must-haves:</p><ul><li>it would be programmable in a full-fledged language like C or Python</li><li>it would have at least a camera, and maybe also some other sensors, and they should be accessible via some API</li><li>it should be compatible with some kind of modular, plug-and-play hardware</li></ul><p>The TelloTalent from DJI matched all the above requirements. What really got me was seeing the flashy LED screen packaged with it and all the cool projects made by the community: there are people controlling the drone with their hand or body movements, developing autonomous flight plans using visual markers, and even repurposing it with random stuff like bar-code scanners. This <a href="https://github.com/houdinisparks/pose_recognition_tello">repository</a> gathers many cool projects from the community and I recommend giving it a look: the possibilities are endless.</p><p>On the other hand, I must admit that this drone is in practice a little more than just a fancy toy - which is not inherently bad, of course. It's clearly targeted for educational purposes only: for starters, forget about flying it outdoors and prepare for an awfully short battery life span. However, it still does an excellent job for its own purpose and, in my opinion, it provides a lot of value.</p><h3 id="components-and-sdk-overview">Components and SDK overview</h3><p>As mentioned above, the Tello Talent comes with a hardware module containing an ESP32 microcontroller, a LED, and a matrix screen. The drone itself can be controlled by connecting via WiFi, or by sending commands to the USB serial port.</p><figure class="kg-card kg-video-card kg-card-hascaption"><div class="kg-video-container"><video src="https://blog.lorisocchipinti.com/content/media/2022/12/chip-video-1.mp4" poster="https://img.spacergif.org/v1/1184x800/0a/spacer.png" width="1184" height="800" loop="" autoplay="" muted="" playsinline="" preload="metadata" style="background:transparent url(https://blog.lorisocchipinti.com/content/images/2022/12/media-thumbnail-ember364.jpg) 50% 50%/cover no-repeat"><div class="kg-video-overlay"><button class="kg-video-large-play-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.14 10.608 2.253.164A1.559 1.559 0 0 0 0 1.557v20.887a1.558 1.558 0 0 0 2.253 1.392L23.14 13.393a1.557 1.557 0 0 0 0-2.785Z"></path></svg></button></div><div class="kg-video-player-container kg-video-hide"><div class="kg-video-player"><button class="kg-video-play-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.14 10.608 2.253.164A1.559 1.559 0 0 0 0 1.557v20.887a1.558 1.558 0 0 0 2.253 1.392L23.14 13.393a1.557 1.557 0 0 0 0-2.785Z"></path></svg></button><button class="kg-video-pause-icon kg-video-hide"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><rect x="3" y="1" width="7" height="22" rx="1.5" ry="1.5"></rect><rect x="14" y="1" width="7" height="22" rx="1.5" ry="1.5"></rect></svg></button><span class="kg-video-current-time">0:00</span><div class="kg-video-time">/<span class="kg-video-duration"></span></div><input type="range" class="kg-video-seek-slider" max="100" value="0"><button class="kg-video-playback-rate">1√ó</button><button class="kg-video-unmute-icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.189 2.021a9.728 9.728 0 0 0-7.924 4.85.249.249 0 0 1-.221.133H5.25a3 3 0 0 0-3 3v2a3 3 0 0 0 3 3h1.794a.249.249 0 0 1 .221.133 9.73 9.73 0 0 0 7.924 4.85h.06a1 1 0 0 0 1-1V3.02a1 1 0 0 0-1.06-.998Z"></path></svg></button><button class="kg-video-mute-icon kg-video-hide"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.177 4.3a.248.248 0 0 0 .073-.176v-1.1a1 1 0 0 0-1.061-1 9.728 9.728 0 0 0-7.924 4.85.249.249 0 0 1-.221.133H5.25a3 3 0 0 0-3 3v2a3 3 0 0 0 3 3h.114a.251.251 0 0 0 .177-.073ZM23.707 1.706A1 1 0 0 0 22.293.292l-22 22a1 1 0 0 0 0 1.414l.009.009a1 1 0 0 0 1.405-.009l6.63-6.631A.251.251 0 0 1 8.515 17a.245.245 0 0 1 .177.075 10.081 10.081 0 0 0 6.5 2.92 1 1 0 0 0 1.061-1V9.266a.247.247 0 0 1 .073-.176Z"></path></svg></button><input type="range" class="kg-video-volume-slider" max="100" value="100"></div></div></video></div><figcaption>Source: www.dji.com</figcaption></figure><p>DJI offers an official cockpit app to fly the drone around and capture some images, but nothing prevents you to build your own: in fact, it is possible to interact with the drone thanks to a text-based SDK. An excerpt from the command list is shown below. More info can be found in the official documentation <a href="https://dl-cdn.ryzerobotics.com/downloads/Tello/Tello%20SDK%202.0%20User%20Guide.pdf">here</a>.</p><table><thead><tr><th>Command Name</th><th>Description</th></tr></thead><tbody><tr><td>command</td><td>Enters in SDK mode</td></tr><tr><td>takeoff</td><td>Auto takeoff</td></tr><tr><td>land</td><td>Auto landing</td></tr><tr><td>up x</td><td>Ascend to "x" cm</td></tr><tr><td>down x</td><td>Descend to "x" cm</td></tr><tr><td>right x</td><td>Fly right for ‚Äúx‚Äù cm</td></tr><tr><td>left x</td><td>Fly left for ‚Äúx‚Äù cm</td></tr></tbody></table><p>My goal was simple: control the drone from the microcontroller only, from a script that I would develop in C and then flash into the ESP32 ROM memory.</p><h3 id="developing-a-flight-plan">Developing a flight plan</h3><p>Setting up an Arduino IDE to work with the ESP32 was not easy as I thought: the documentation is not clear, the examples are scarce, and unfortunately often from Chinese-speaking contributors. However, after a couple of attempts, I was able to download the correct drivers and make them work in my Arduino IDE. On a brighter note, the <a href="https://github.com/RoboMaster/RMTT_Libs">helper packages and examples</a> from the TelloTalent developers were extremely useful as well since I am not an experienced C programmer - and surely not of the Embedded Systems flavor anyway.</p><p>There are two important methods available: <code>setup</code> and <code>loop</code>. As the names suggest, they are respectively used for the initial drone startup phase and for the main behavior loop. As I wanted to execute a brief 30 seconds routine, I put all my logic into the <code>setup</code> section. It is also possible to use the <code>setup</code> function to stay idle and wait for a specific event (e.g. a button is pressed, or a specific command is received), before entering into the main loop. Anyway, I developed a basic flight plan to get started:</p><script src="https://gist.github.com/Ipanov7/4b9a7ff641d9903162cd9effe95cfd60.js"></script><p>As can be noted here, the <code>tt_matrix</code> and <code>tt_sdk</code> packages are doing the heavy lifting. The <code>tt_sdk</code> is a straightforward interface that decouples the high-level SDK commands from the serial port connection and data transfer; on the other hand, <code>tt_matrix</code> deals with low-level operations to access and write to the LED screen registries. Speaking of which, it was due time to tinker with the little lights.</p><h3 id="animating-the-led-screen">Animating the LED screen</h3><p>After creating a flight plan, I wanted to make this project a bit more personal with a custom animation on the drone's screen. The ESP32 chip on the TelloTalent comes out of the box with an 8x8 LED matrix, which is enough to show a bit of text and render some simple sprites. I decided that my drone would fit perfectly with the theme of aliens and spaceships, and should become a monster from Space Invaders üëæ.</p><p>Now, the documentation on the TT is not super accessible, but some reverse engineering showed that the screen features two color channels - blue and red. These two channels can be independently set (and mixed) on each cell on the screen, and their luminosity can be configured on 256 different levels of intensity. With this information, I was finally able to sketch my beloved alien monster in two alternating sprites:</p><div align="center"><img src="data:image/png;base64,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" data-src="/assets/images/Z1G3nyL-alien-invader-1.png" class="lazyload" width="298" height="298"> <img src="data:image/png;base64,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" data-src="/assets/images/Z1FYjn5-alien-invader-2.png" class="lazyload" width="298" height="298"></div><p>Finally, I wrote a simple method to animate the UFO:</p><script src="https://gist.github.com/Ipanov7/28cf692b192ae25bccfa95d1e888c6a4.js"></script><p>The <code>sprite_a</code> and <code>sprite_b</code> are just matrixes with constant values, respectively modeling one of the two alien sprites.</p><h3 id="enabling-parallel-execution">Enabling parallel execution</h3><p>I had a flight plan and a way to animate the sprites on the screen. However, since the <code>move_sprite</code> method had a blocking infinite loop, it would never allow for the flight plan to execute. How could I instruct my Tello to do both things at once?</p><p>Fortunately, the ESP32 microcontroller comes with a set of useful <a href="https://www.freertos.org/FAQMem.html#StackSize">RTOS APIs</a>, such as <code>xTaskCreate</code> and its multitasking capabilities:</p><pre><code class="language-c">BaseType_t xTaskCreate(TaskFunction_t pvTaskCode,
                       const char * const pcName,
                       configSTACK_DEPTH_TYPE usStackDepth,
                       void *pvParameters,
                       UBaseType_t uxPriority,
                       TaskHandle_t *pxCreatedTask);</code></pre><p>The <code>xTaskCreate</code> takes a reference to a function (a new "task") and adds it to the queue of tasks ready to run: the OS will then manage the concurrent tasks by alternating between them, for example by taking advantage of the time spent waiting for I/O operations.</p><p>The most important arguments here are <code>pvTaskCode</code>, which is the matrix handler function name, and <code>usStackDepth</code>, the depth of the stack that the target task will need to execute: I admit that I just guessed the appropriate value here after failing a couple of attempts, choosing at the end a multiple of the minimum stack size allowed:</p><p><code>xTaskCreate( move_sprite, "Move Sprite", configMINIMAL_STACK_SIZE * 2, NULL, tskIDLE_PRIORITY, &amp;xHandle );</code></p><p>Finally, I could bring everything together in a single script:</p><script src="https://gist.github.com/Ipanov7/e8c484b2a2ff2493a7315e86acfd3ad0.js"></script><p>The little UFO was now ready for take-off!</p><h3 id="conclusion">Conclusion</h3><p>Programming my Tello drone to follow a simple flight plan while interacting with its LED screen was a very fun experience, and a way to grow out of my comfort zone: dealing with software near to the "metal" and with real-time constraints, understanding drone stuff and, above all, managing to make sense of scarce and sometimes obscure documentation by virtue of reverse-engineering and translating from Chinese ü§ì.</p><p>All in all, with a little imagination and goodwill, the Tello can provide a vast source of side-project ideas and unique challenges!</p><h3 id="references">References</h3><ul><li><a href="https://dl-cdn.ryzerobotics.com/downloads/Tello/Tello%20SDK%202.0%20User%20Guide.pdf">Tello SDK User Guide</a></li><li><a href="https://github.com/RoboMaster/RMTT_Libs">TelloTalent Arduino Support Package | github.com</a></li><li><a href="https://www.freertos.org/a00125.html">FreeRTOS documentation | xTaskCreate</a></li></ul></section></section></article></div></main></div><div class="viewport-bottom"><footer class="site-foot"><div class="site-foot-nav container"><div class="site-foot-nav-left"><a aria-current="page" class="" href="/">Loris Occhipinti </a>¬© 2020 ‚Äì Published with <a class="site-foot-nav-item" href="https://ghost.org" target="_blank" rel="noopener noreferrer">Ghost</a></div><div class="site-foot-nav-right"><a class="site-foot-nav-item" href="/about/">About Me</a></div></div></footer></div></div><script>
            (function (selector, src, preferNativeLazyLoad) {
  var images = document.querySelectorAll(selector);
  var numImages = images.length;

  if (numImages > 0) {
    if (preferNativeLazyLoad && 'loading' in HTMLImageElement.prototype) {
      for (var i = 0; i < numImages; i++) {
        var keys = ['src', 'srcset'];

        for (var j = 0; j < keys.length; j++) {
          if (images[i].hasAttribute('data-' + keys[j])) {
            var value = images[i].getAttribute('data-' + keys[j]);
            images[i].setAttribute(keys[j], value);
          }
        }
      }

      return;
    }

    var script = document.createElement('script');
    script.async = true;
    script.src = src;
    document.body.appendChild(script);
  }
})(
              'img',
              'https://cdn.jsdelivr.net/npm/lazysizes@5/lazysizes.min.js',
              false
            );
          </script></body></html>