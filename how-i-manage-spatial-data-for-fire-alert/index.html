<!DOCTYPE html><html lang="en" class="no-js"><head><title>How I manage spatial data for my wildfire detection dashboard – Loris Occhipinti</title><meta name="description" content="Random access stories about software engineering."><meta name="robots" content="index,follow"><meta name="generator" content="Eleventy"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="twitter:site" content="@ghost"><meta name="twitter:creator" content=""><meta name="twitter:card" content="summary_large_image"><meta name="twitter:url" content="https://blog.lorisocchipinti.com/how-i-manage-spatial-data-for-fire-alert/"><meta name="twitter:title" content="How I manage spatial data for my wildfire detection dashboard – Loris Occhipinti"><meta name="twitter:description" content="A few weeks ago, I shared the story behind the creation of the Fire Alert dashboard. In case you are not familiar with it, you can go and read about it now.

I Built a Tool to Track Wildfires: This Is WhyOnce or twice a year, I have a ritual of leaving the big city to return to my home village, in south-eastern Sicily. During these retreats, I have the chance to disconnect from the bustling, relentless Milano, and enjoy a place where industriousness isn’t the only religion. Clean air, warmerLori"><meta name="twitter:image" content="https://blog.lorisocchipinti.com/content/images/2023/01/map.jpg"><link rel="author" href=""><link rel="publisher" href="https://blog.lorisocchipinti.com"><meta itemprop="name" content="How I manage spatial data for my wildfire detection dashboard – Loris Occhipinti"><meta itemprop="description" content="A few weeks ago, I shared the story behind the creation of the Fire Alert dashboard. In case you are not familiar with it, you can go and read about it now.

I Built a Tool to Track Wildfires: This Is WhyOnce or twice a year, I have a ritual of leaving the big city to return to my home village, in south-eastern Sicily. During these retreats, I have the chance to disconnect from the bustling, relentless Milano, and enjoy a place where industriousness isn’t the only religion. Clean air, warmerLori"><meta itemprop="image" content="https://blog.lorisocchipinti.com/content/images/2023/01/map.jpg"><meta property="og:url" content="https://blog.lorisocchipinti.com/how-i-manage-spatial-data-for-fire-alert/"><meta property="og:type" content="website"><meta property="og:title" content="How I manage spatial data for my wildfire detection dashboard – Loris Occhipinti"><meta property="og:image" content="https://blog.lorisocchipinti.com/content/images/2023/01/map.jpg"><meta property="og:description" content="A few weeks ago, I shared the story behind the creation of the Fire Alert dashboard. In case you are not familiar with it, you can go and read about it now.

I Built a Tool to Track Wildfires: This Is WhyOnce or twice a year, I have a ritual of leaving the big city to return to my home village, in south-eastern Sicily. During these retreats, I have the chance to disconnect from the bustling, relentless Milano, and enjoy a place where industriousness isn’t the only religion. Clean air, warmerLori"><meta property="og:site_name" content="Loris Occhipinti"><meta property="og:locale" content="en"><meta property="article:author" content="https://blog.lorisocchipinti.com"><style>:root{--color-primary:#3eb0ef;--color-base:#15171a;--color-secondary:#5b7a81;--color-border:#c7d5d8;--color-bg:#f5f5f5;--font-sans-serif:-apple-system,BlinkMacSystemFont,"Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;--font-serif:Georgia,Times,serif;--font-mono:Menlo,Courier,monospace;--font-light:100;--font-normal:400;--font-bold:700;--font-heavy:800;--height:4rem;--margin:2rem;--radius:0.6rem}a,abbr,acronym,address,applet,article,aside,audio,big,blockquote,body,canvas,caption,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,ul,var,video{margin:0;padding:0;border:0;font:inherit;font-size:100%;vertical-align:baseline}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-spacing:0;border-collapse:collapse}img{max-width:100%;height:auto}html{box-sizing:border-box;font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}*,:after,:before{box-sizing:inherit}a{background-color:transparent}a:active,a:hover{outline:0}b,strong{font-weight:700}dfn,em,i{font-style:italic}h1{margin:.67em 0;font-size:2em}small{font-size:80%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}mark{background-color:#fdffb6}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{margin:0;color:inherit;font:inherit}button{overflow:visible;border:none}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;-webkit-appearance:button}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input{line-height:normal}input:focus{outline:0}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{box-sizing:content-box;-webkit-appearance:textfield}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}legend{padding:0;border:0}textarea{overflow:auto}table{border-spacing:0;border-collapse:collapse}td,th{padding:0}html{overflow-x:hidden;overflow-y:scroll;font-size:62.5%;background:var(--color-base);-webkit-tap-highlight-color:transparent}body{overflow-x:hidden;color:#3c484e;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;font-size:1.5rem;line-height:1.6em;font-weight:400;font-style:normal;letter-spacing:0;text-rendering:optimizeLegibility;background:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-font-feature-settings:"liga" on}::selection{text-shadow:none;background:#cbeafb}hr{position:relative;display:block;width:100%;margin:1.8em 0 2.4em;padding:0;height:1px;border:0;border-top:1px solid #e3e9ed}audio,canvas,iframe,img,svg,video{vertical-align:middle}fieldset{margin:0;padding:0;border:0}textarea{resize:vertical}blockquote,dl,ol,p,ul{margin:0 0 1.5em 0}ol,ul{padding-left:1.3em;padding-right:1.5em}ol ol,ol ul,ul ol,ul ul{margin:.5em 0 1em}ul{list-style:disc}ol{list-style:decimal}ol,ul{max-width:100%}li{margin:.5em 0;padding-left:.3em;line-height:1.6em}dt{float:left;margin:0 20px 0 0;width:120px;font-weight:500;text-align:right}dd{margin:0 0 5px 0;text-align:left}blockquote{margin:.3em 0 1.8em;padding:0 1.6em 0 1.6em;border-left:#cbeafb .5em solid}blockquote p{margin:.8em 0;font-size:1.2em;font-weight:300}blockquote small{display:inline-block;margin:.8em 0 .8em 1.5em;font-size:.9em;opacity:.8}blockquote small:before{content:"\2014 \00A0"}blockquote cite{font-weight:700}blockquote cite a{font-weight:400}a{color:#26a8ed;text-decoration:none}a:hover{text-decoration:underline}h1,h2,h3,h4,h5,h6{margin-top:0;color:var(--color-base);line-height:1.15;font-weight:700;text-rendering:optimizeLegibility}h1{margin:0 0 .5em 0;font-size:4rem;font-weight:700}@media (max-width:500px){h1{font-size:2rem}}h2{margin:1.5em 0 .5em 0;font-size:2rem}@media (max-width:500px){h2{font-size:1.8rem}}h3{margin:1.5em 0 .5em 0;font-size:1.8rem;font-weight:500}@media (max-width:500px){h3{font-size:1.7rem}}h4{margin:1.5em 0 .5em 0;font-size:1.6rem;font-weight:500}h5{margin:1.5em 0 .5em 0;font-size:1.4rem;font-weight:500}h6{margin:1.5em 0 .5em 0;font-size:1.4rem;font-weight:500}.viewport{display:flex;flex-direction:column;justify-content:space-between;min-height:100vh}.container{max-width:1120px;margin:0 auto;padding:0 4vw}.content{margin:0 auto;font-size:2rem;line-height:1.7em}.content-body{display:flex;flex-direction:column;font-family:var(--font-serif)}.post-full-content{max-width:720px;margin:0 auto;background:#fff}.post-full-content figcaption{margin:1em 3em 0;font-size:55%;line-height:1.6em;text-align:center;font-weight:400}.post-feature-image img{margin:0 0 3vw;width:100%;height:500px;object-fit:cover}.content-body h1,.content-body h2,.content-body h3,.content-body h4,.content-body h5,.content-body h6{font-family:var(--font-sans-serif)}.content-body h1{margin:1em 0 .5em 0;font-size:3.4rem;font-weight:700}@media (max-width:500px){.content-body h1{font-size:2.8rem}}.content-title{margin:0 0 .8em;font-size:5rem}@media (max-width:500px){.content-title{margin:.8em 0;font-size:3.4rem}.content{font-size:1.8rem}}.content-body h2{margin:.8em 0 .4em 0;font-size:3.2rem;font-weight:700}@media (max-width:500px){.content-body h2{font-size:2.6rem}}.content-body h3{margin:.5em 0 .2em 0;font-size:2.8rem;font-weight:700}@media (max-width:500px){.content-body h3{font-size:2.2rem}}.content-body h4{margin:.5em 0 .2em 0;font-size:2.4rem;font-weight:700}@media (max-width:500px){.content-body h4{font-size:2.2rem}}.content-body h5{display:block;margin:.5em 0;padding:1em 0 1.5em;border:0;font-family:Georgia,serif;color:var(--color-primary);font-style:italic;font-size:3.2rem;line-height:1.35em;text-align:center}.content-body h6{margin:.5em 0 .2em 0;font-size:2rem;font-weight:700}.content-body figure{margin:.4em 0 1.6em;font-size:2.8rem;font-weight:700}.content-body pre{margin:.4em 0 1.8em;font-size:1.6rem;line-height:1.4em;white-space:pre-wrap;padding:20px;background:var(--color-base);color:#fff;border-radius:12px}.site-head{padding-top:20px;padding-bottom:20px;color:#fff;background:var(--color-base);background-position:center;background-size:cover}.site-nav-item{display:inline-block;padding:5px 10px;color:#fff;opacity:.7}.site-nav-item:hover{text-decoration:none;opacity:1}.site-nav-right .site-nav-button{margin-left:.3rem}.site-nav-icon{height:15px;margin:-5px 0 0;vertical-align:baseline}.site-logo{height:25px}.site-mast{display:flex;align-items:center;justify-content:space-between}.site-mast-right{display:flex;align-items:center}.site-mast-right .site-nav-item:last-child{padding-right:0}.site-banner{max-width:80%;margin:0 auto;padding:10vw 0;text-align:center}.site-banner-title{margin:0;padding:0;color:#fff;font-size:4rem;line-height:1.3em}.site-banner-desc{margin:5px 0 0 0;padding:0;font-size:2.4rem;line-height:1.3em;opacity:.7}.site-nav{display:flex;align-items:center;justify-content:space-between;margin:15px 0 0 0}.site-nav-left{margin:0 20px 0 -10px}.site-nav-button{display:inline-block;padding:5px 10px;border:#fff 1px solid;color:#fff;font-size:1.3rem;line-height:1em;border-radius:var(--radius);opacity:.7}.site-nav-button:hover{text-decoration:none}.site-main{padding:4vw 0}.post-feed{display:grid;justify-content:space-between;grid-gap:30px;grid-template-columns:1fr 1fr 1fr}@media (max-width:980px){.post-feed{grid-template-columns:1fr 1fr}}@media (max-width:680px){.post-feed{grid-template-columns:1fr}}.post-card{color:inherit;text-decoration:none}.post-card:hover{text-decoration:none}.post-card-header{display:flex;flex-direction:column}.post-card-tags{margin:0 0 5px 0;font-size:1.4rem;line-height:1.15em;color:var(--color-secondary)}.post-card-title{margin:0 0 10px 0;padding:0}.post-card-excerpt{font-size:1.6rem;line-height:1.55em}.post-card-image{margin:0 0 10px 0;width:auto;height:200px;background:var(--color-secondary) no-repeat center center;background-size:cover;object-fit:cover}.post-card-footer{display:flex;align-items:center;justify-content:space-between;margin:10px 0 0 0;color:var(--color-secondary)}.post-card-footer-left{display:flex;align-items:center}.post-card-footer-right{display:flex;flex-direction:column}.post-card-avatar{width:30px;height:30px;margin:0 7px 0 0;border-radius:100%;display:flex;align-items:center;justify-content:center}.post-card-avatar .author-profile-image{display:block;width:100%;background:var(--color-secondary);border-radius:100%;object-fit:cover}.post-card-avatar .default-avatar{width:26px}.tag-header{max-width:690px;margin:0 0 4vw}.tag-header h1{margin:0 0 1rem 0}.tag-header p{margin:0;color:var(--color-secondary);font-size:2.2rem;line-height:1.3em}@media (max-width:500px){.tag-header{border-bottom:var(--color-bg) 1px solid;padding-bottom:4vw}.tag-header p{font-size:1.7rem}}.author-header{display:flex;justify-content:space-between;margin:0 0 4vw}.author-header h1{margin:0 0 1rem 0}.author-header p{margin:0;color:var(--color-secondary);font-size:2.2rem;line-height:1.3em}.author-header-image{flex:0 0 auto;margin:0 0 0 4vw;height:120px;width:120px;border-radius:100%;overflow:hidden}.author-header-meta{display:flex;margin:1rem 0 0 0}.author-header-item{display:block;padding:2px 10px}.author-header-item:first-child{padding-left:0}@media (max-width:500px){.author-header{border-bottom:var(--color-bg) 1px solid;padding-bottom:4vw}.author-header p{font-size:1.7rem}.author-header-image{height:80px;width:80px}}.pagination{position:relative;display:flex;justify-content:space-between;align-items:center;margin:4vw 0 0}.pagination a{display:inline-block;padding:10px 15px;border:var(--color-border) 1px solid;color:var(--color-secondary);text-decoration:none;font-size:1.4rem;line-height:1em;border-radius:var(--radius)}.pagination-location{position:absolute;left:50%;width:100px;margin-left:-50px;text-align:center;color:var(--color-secondary);font-size:1.3rem}.pagination span{color:var(--color-secondary);opacity:.8}.site-foot{padding:20px 0 40px 0;color:rgba(255,255,255,.7);font-size:1.3rem;background:var(--color-base)}.site-foot-nav{display:flex;align-items:center;justify-content:space-between}.site-foot-nav a{color:rgba(255,255,255,.7)}.site-foot-nav a:hover{text-decoration:none;color:#fff}.site-foot-nav-right a{display:inline-block;padding:2px 5px}.site-foot-nav-right a:last-child{padding-right:0}.kg-bookmark-card{width:100%;margin-top:0}.kg-bookmark-container{display:flex;min-height:148px;color:var(--color-base);font-family:var(--font-sans-serif);text-decoration:none;border-radius:3px;box-shadow:0 2px 5px -1px rgba(0,0,0,.15),0 0 1px rgba(0,0,0,.09)}.kg-bookmark-container:hover{color:var(--color-base);text-decoration:none;box-shadow:0 2px 5px -1px rgba(0,0,0,.15),0 0 1px rgba(0,0,0,.09)}.kg-bookmark-content{flex-grow:1;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;padding:20px}.kg-bookmark-title{color:color(var(--color-secondary) l(-30%));font-size:1.6rem;line-height:1.5em;font-weight:600;transition:color .2s ease-in-out}.kg-bookmark-container:hover .kg-bookmark-title{color:var(--color-primary)}.kg-bookmark-description{display:-webkit-box;overflow-y:hidden;margin-top:12px;max-height:48px;color:color(var(--color-secondary) l(-10%));font-size:1.5rem;line-height:1.5em;font-weight:400;-webkit-line-clamp:2;-webkit-box-orient:vertical}.kg-bookmark-thumbnail{position:relative;min-width:33%;max-height:100%}.kg-bookmark-thumbnail img{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:0 3px 3px 0;object-fit:cover}.kg-bookmark-metadata{display:flex;flex-wrap:wrap;align-items:center;margin-top:14px;color:color(var(--color-secondary) l(-10%));font-size:1.5rem;font-weight:400}.kg-bookmark-icon{margin-right:8px;width:22px;height:22px}.kg-bookmark-author{line-height:1.5em}.kg-bookmark-author:after{content:"•";margin:0 6px}.kg-bookmark-publisher{overflow:hidden;max-width:240px;line-height:1.5em;text-overflow:ellipsis;white-space:nowrap}.kg-gallery-container{display:flex;flex-direction:column;max-width:1040px;width:100%}.kg-gallery-row{display:flex;flex-direction:row;justify-content:center}.kg-gallery-image img{display:block;margin:0;width:100%;height:100%}.kg-gallery-row:not(:first-of-type){margin:.75em 0 0 0}.kg-gallery-image:not(:first-of-type){margin:0 0 0 .75em}.kg-gallery-card+.kg-gallery-card,.kg-gallery-card+.kg-image-card.kg-width-wide,.kg-image-card.kg-width-wide+.kg-gallery-card,.kg-image-card.kg-width-wide+.kg-image-card.kg-width-wide{margin:-2.25em 0 3em}</style><script>document.documentElement.classList.remove('no-js');</script></head><body><svg xmlns="http://www.w3.org/2000/svg" style="height:0;position:absolute" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol id="facebook" viewBox="0 0 512 512"><path fill="#fff" d="M452 0H60C26.916 0 0 26.916 0 60v392c0 33.084 26.916 60 60 60h392c33.084 0 60-26.916 60-60V60c0-33.084-26.916-60-60-60zm20 452c0 11.028-8.972 20-20 20H338V309h61.79L410 247h-72v-43c0-16.975 13.025-30 30-30h41v-62h-41c-50.923 0-91.978 41.25-91.978 92.174V247H216v62h60.022v163H60c-11.028 0-20-8.972-20-20V60c0-11.028 8.972-20 20-20h392c11.028 0 20 8.972 20 20v392z"></path></symbol><symbol id="rss" viewBox="0 0 643 643"><path fill="#fff" d="M93.299 613.7c-50.798 0-92.117-41.348-92.117-92.117 0-50.827 41.319-92.174 92.117-92.174s92.117 41.376 92.117 92.174c.028 50.77-41.319 92.117-92.117 92.117zm0-155.507c-34.894 0-63.304 28.439-63.304 63.39 0 34.922 28.41 63.304 63.304 63.304 34.893 0 63.303-28.382 63.303-63.304.029-34.95-28.381-63.39-63.303-63.39z"></path><path fill="#fff" d="M400.537 614.306h-112.2c-7.952 0-14.407-6.454-14.407-14.407 0-69.585-26.883-134.905-75.664-183.945C149.514 366.998 84.654 340 15.704 340c-7.953 0-14.407-6.454-14.407-14.406V213.336c0-7.953 6.454-14.407 14.407-14.407 220.165 0 399.27 179.883 399.27 400.969-.03 7.982-6.455 14.408-14.437 14.408zm-98.139-28.814h83.473c-7.376-193.743-162.912-349.999-355.79-357.461v83.531c71.285 3.486 137.787 33.021 188.585 84.078 50.828 51.086 80.246 118.048 83.732 189.852z"></path><path fill="#fff" d="M598.775 614.363H486.604c-7.952 0-14.406-6.454-14.406-14.407 0-253.04-204.721-458.942-456.378-458.942-7.953 0-14.407-6.454-14.407-14.407v-112.2C1.412 6.455 7.866 0 15.819 0c329.397 0 597.363 269.147 597.363 599.956a14.375 14.375 0 0 1-14.407 14.407zm-97.966-28.813h83.387C576.675 282.085 332.307 36.593 30.226 28.987v83.444c256.124 7.549 463.12 215.64 470.583 473.119z"></path></symbol><symbol id="twitter" viewBox="0 0 612.002 612.002"><path fill="#fff" d="M197.553 557.219c-68.018 0-134.159-19.371-191.294-56.047-5.333-3.428-7.591-10.066-5.469-16.051 2.122-5.986 8.189-9.795 14.42-8.896 47.912 5.576 97.919-4.164 139.873-28.16-41.491-12.461-75.228-44.594-88.859-87.199a13.57 13.57 0 0 1 2.802-13.195 13.736 13.736 0 0 1 7.346-4.244c-32.404-24.678-52.864-63.639-52.864-106.436 0-4.816 2.558-10.012 6.72-12.461 4.163-2.449 9.305-3.21 13.495-.925a67.034 67.034 0 0 0 3.646 1.932c-14.719-21.739-22.881-47.749-22.881-74.902 0-23.562 6.23-46.796 18.093-67.147 2.231-3.863 6.23-6.366 10.692-6.72a13.734 13.734 0 0 1 11.59 4.952c55.04 67.501 134.703 110.298 220.624 119.086a135.305 135.305 0 0 1-.571-12.434c0-73.65 59.937-133.588 133.587-133.588 34.199 0 67.311 13.25 92.015 36.648 22.719-5.197 44.484-13.93 64.808-25.983a13.737 13.737 0 0 1 15.399 1.061c4.408 3.537 6.204 9.414 4.489 14.801a132.455 132.455 0 0 1-18.99 37.519 214.647 214.647 0 0 0 16.678-6.584c5.469-2.503 12.025-.979 15.916 3.7 3.891 4.625 4.245 11.291.898 16.324-15.808 23.562-35.07 44.103-57.299 61.162.082 2.938.109 5.904.109 8.842.001 174.453-132.798 354.945-354.973 354.945zm-128.69-53.543c40.458 17.33 84.125 26.336 128.69 26.336 205.17 0 327.766-166.645 327.766-327.765 0-4.979-.136-9.985-.326-14.964a13.59 13.59 0 0 1 5.632-11.59 228.226 228.226 0 0 0 27.507-23.371 255.254 255.254 0 0 1-26.99 4.707c-6.312.898-12.406-2.993-14.501-9.087-2.068-6.067.381-12.76 5.877-16.08a107.521 107.521 0 0 0 28.051-24.296c-13.577 5.197-27.562 9.25-41.845 12.025-4.571.953-9.333-.571-12.543-4.026-20.024-21.331-48.348-33.574-77.677-33.574-58.659 0-106.38 47.721-106.38 106.38 0 8.135.925 16.324 2.774 24.269a13.662 13.662 0 0 1-2.829 11.808c-2.721 3.265-6.829 5.523-11.101 4.843-92.858-4.68-180.33-45.953-243.179-114.189a106.518 106.518 0 0 0-6.094 35.533c0 35.696 17.685 68.753 47.286 88.533a13.578 13.578 0 0 1 5.414 15.454c-1.85 5.768-7.591 9.25-13.358 9.468a133.043 133.043 0 0 1-38.172-6.856c8.407 42.144 40.811 75.555 83.146 84.07 6.203 1.252 10.719 6.557 10.91 12.869.218 6.285-3.917 11.916-9.985 13.604-11.726 3.184-24.051 4.979-36.104 4.734 18.229 32.24 52.456 53.217 90.655 53.979 5.741.109 10.801 3.863 12.624 9.305s0 11.482-4.517 15.02c-38.226 29.953-83.01 47.964-130.731 52.861z"></path></symbol><symbol id="link" viewBox="0 0 16 16"><path d="M5.86 12.7l-.81.8c-.7.7-1.84.7-2.54 0a1.75 1.75 0 0 1 0-2.5l2.98-2.96c.61-.61 1.77-1.52 2.62-.68a1 1 0 1 0 1.4-1.4c-1.44-1.43-3.57-1.17-5.42.67L1.1 9.6a3.72 3.72 0 0 0 0 5.32 3.78 3.78 0 0 0 5.34 0l.8-.8a1 1 0 1 0-1.39-1.42zm9.03-11.5c-1.55-1.53-3.7-1.6-5.14-.19l-1 1a1 1 0 1 0 1.39 1.41l1-1c.75-.74 1.72-.43 2.35.2a1.75 1.75 0 0 1 0 2.5l-3.17 3.15c-1.46 1.45-2.14.77-2.43.48a1 1 0 0 0-1.4 1.4c.67.67 1.43 1 2.23 1 .98 0 2.01-.5 3-1.47l3.17-3.15a3.72 3.72 0 0 0 0-5.32z"></path></symbol><symbol id="nav" viewBox="0 0 16 11"><path d="M0 12h16v-2H0v2zm0-5h16V5H0v2zm0-7v2h16V0H0z"></path></symbol></svg><div class="viewport"><div class="viewport-top"><header class="site-head" style="background-image:url(https://static.ghost.org/v4.0.0/images/publication-cover.jpg)"><div class="container"><div class="site-mast"><div class="site-mast-right"><a href="https://twitter.com/ghost" class="site-nav-item" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" class="site-nav-icon site-nav-icon--twitter" role="img" aria-labelledby="twitter-title"><title id="twitter-title">twitter</title><use xlink:href="#twitter" fill="currentColor"></use></svg> </a><a href="https://www.facebook.com/ghost" class="site-nav-item" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" class="site-nav-icon site-nav-icon--facebook" role="img" aria-labelledby="facebook-title"><title id="facebook-title">facebook</title><use xlink:href="#facebook" fill="currentColor"></use></svg> </a><a class="site-nav-item" href="https://feedly.com/i/subscription/feed/https://blog.lorisocchipinti.com/feed.xml" target="_blank" rel="noopener noreferrer"><svg width="16" height="16" class="site-nav-icon site-nav-icon--rss" role="img" aria-labelledby="rss-title"><title id="rss-title">rss</title><use xlink:href="#rss" fill="currentColor"></use></svg></a></div></div><nav class="site-nav"><div class="site-nav-left"><a class="site-nav-item" href="/">Home </a><a class="site-nav-item" href="/about/">About</a></div><div class="site-nav-right"><a class="site-nav-button" href="/about/">About Me</a></div></nav></div></header><main class="site-main"><div class="container"><article class="content"><figure class="post-feature-image"><img src="data:image/png;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAARABkDASIAAhEBAxEB/8QAGgAAAgIDAAAAAAAAAAAAAAAAAAYEBwMFCP/EADEQAAAFAQMGDwAAAAAAAAAAAAABAgMEBQYRIQcSImFxsRMUFRYxMzQ1QUJRZXN0kf/EABYBAQEBAAAAAAAAAAAAAAAAAAIBA//EAB0RAAICAgMBAAAAAAAAAAAAAAECABEDMgQSIkP/2gAMAwEAAhEDEQA/ALFqtsYMNSEtGt3SuUok4EIkWuJl8bLhkrkX3paM8c3UMtSgNrYUwxGbNpRY3EFeq0qPQZTFSU6lKVJzFIUq4z2CZCyp2iUgvRmotgp1+YU5ps2n42Garzl4hf52+1l+Cfbm0LTUlmO4Sj0b0qPpu1hU5Zj+hAYuOetlgLgzcz1SoTU6MjdQewVdlw7HTPmLeAA3+ZhbcRJyod4wfrp3EE0AAG1WEbGf/9k=" alt="How I manage spatial data for my wildfire detection dashboard" data-src="/assets/images/Z1ymbaE-map.jpg" class="lazyload" width="2000" height="1333"></figure><section class="post-full-content"><h1 class="content-title">How I manage spatial data for my wildfire detection dashboard</h1><section class="content-body load-external-scripts"><p>A few weeks ago, I shared the story behind the creation of the <strong><em>Fire Alert</em></strong> dashboard. In case you are not familiar with it, you can go and read about it now.</p><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://blog.lorisocchipinti.com/why-i-created-a-tool-to-track-wood-fires/"><div class="kg-bookmark-content"><div class="kg-bookmark-title">I Built a Tool to Track Wildfires: This Is Why</div><div class="kg-bookmark-description">Once or twice a year, I have a ritual of leaving the big city to return to my home village, in south-eastern Sicily. During these retreats, I have the chance to disconnect from the bustling, relentless Milano, and enjoy a place where industriousness isn’t the only religion. Clean air, warmer</div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon lazyload" src="https://blog.lorisocchipinti.com/favicon.ico" alt="" data-src="/assets/images/Z230Wdr-favicon.ico"><span class="kg-bookmark-author">Loris Occhipinti</span><span class="kg-bookmark-publisher">Loris Occhipinti</span></div></div><div class="kg-bookmark-thumbnail"><img src="data:image/png;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAARABkDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAQFBgcI/8QAKhAAAAUDAgILAAAAAAAAAAAAAAECAwQFERIGITEyExQWNkFTY3FzkrH/xAAYAQACAwAAAAAAAAAAAAAAAAACBAMFBv/EACARAAEEAQUBAQAAAAAAAAAAAAEAAgQRAyExMjNxEoH/2gAMAwEAAhEDEQA/AMIoVKXMUZNluW4m+ibpVjkR878MhXqdVnYxm5ERmouFhOt6qkzDabn0tDiUlsdi3FFIZmc/a2+0Vo4kjAxmlh3lhLu1GOSlGUWxGFOuR/IElmzUH2m0MNxzWq2PiLD2GV6v1AgsZyFIMsw/Whv8Wb6X53BaS52vYwAEsvsKKB0pGnd5Kd85fo6hAALydmpTNzK//9k=" alt="" data-src="/assets/images/1IYs1x-photo-1634009653379-a97409ee15de.jpg" class="lazyload" width="2000" height="1333"></div></a></figure><p>As I explained in my previous post, I work with satellite data from NASA, which is kindly provided through an open API. Two satellites, Aqua and Terra, are provisioned with heat-detecting cameras that are able to discern significant temperature differences at the ground level, hence isolating hotspots that <em>most likely</em> are wildfires. The typical report from the satellites looks like this:</p><table><thead><tr><th>Field</th><th>Value</th></tr></thead><tbody><tr><td>Latitude</td><td>36.79887</td></tr><tr><td>Longitude</td><td>12.01467</td></tr><tr><td>Time</td><td>18/01/2023 12:21</td></tr></tbody></table><p>This essential, raw data can't be directly translated on a map as-is. There are a few issues with it:</p><ul><li>the API endpoint does not retain any memory about the previous calls, and will inevitably return the same observations multiple times. I want to recognize these instances as known hotspots without triggering new alerts;</li><li>the satellites passing over the Earth at different times will detect patches of hot ground in the whereabouts of known hotspots. Most likely, all the observations are about a single event that is still ongoing. I want to compare new data to previous observations;</li><li>a hotspot could abruptly disappear from the satellite survey: maybe the fire stopped, but it is possible that dense smoke or clouds are concealing the real situation on the ground. Therefore, I want hotspots to have some stickiness and stay on the dashboard even if they are briefly not being reported.</li></ul><figure class="kg-card kg-image-card kg-card-hascaption"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAVCAYAAACzK0UYAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEdklEQVRIx41V2XbaSBTk/3/EGI/j2BmczVuO9wBCEmjtRUJIQoD3JC8zztRUSzhxljlnHup0033p6qp7b6tVVXOEUYzLXh+W7WAwtDF0XAilcH1zi78eH/H49R/i6w/4+7HBz+v13grmf1+J1oIHiSzHpRfh3ItxMo5wxrEvUvj5AurqHvr64Tv4Wz2Dftq/eoBa3tdIuJZe36G6vcfNwwNa15++QC9ucKkLHEYZ3vop3gcp9sIMB3GOQ1niSM9wpAw4l8VPKJt1UeIwLmqcqhyDZAJVTDFbzNCqHr7Ar66xxwO3xinWbYXOUGHdklgfSrTN3NVYd3S9Z9bq0WGcLQlVo834tb7A2kDipRPj0PPgaR+TQqCV332GNV3glZdig8FrDG4PTLCo/1iT2Oo7gSWaC9QEhLMiWV2sw5jXI1oe2kyDi2kVopXQz9OkqgnqQAZ1SLDRj+uxJlqRtI0yq4GJ+4Mkm8QL4qUt8Ocwwq4d4GDk4CL8iDAbIp1HaJmkndLzbVdix5HocnzjxthzI7x1ImwNY2wMmxtuDElu8bcVYduO8G5MW3yJ41DhNOTohTgejXHuDzAUlwimDsRMoaWWd+iZpHsCF5HEQCgMY4GxiOEIgdNAYt+TPDDiGGHPD/DeG2Pft3EWO7BVgGiiEGiFfmgq1KMKtoG04GYhvCKnkqtbjCYFmSU0g6dTTSjMCoWCEFwbawlbRhjpCK4O4OgxYSFIbUxyH3khEaW6VvOe6vb9EB/CAGdKozcpDckdvKyAKyXKnA1YpVgSi0WCak4yyi0LA4mKKIuIhwZIijE0MSkDyCzCR15yd8Qc0XJj/bYrsBdNmO9Zk/hhNsNpzBsnGjpPMS1TlJUmJGaVQsX5fJZgMfGx1C6W6RgLEpu9PHEwCiwcDR1sMn/tVYmvcewGGY6fSM6TEl3eYp9JPBcaFsliWmZqvJwJzEqJeamxXJFcpR6WZYI5FU+FDcvt413PYnGIps9Y1m1iN5ziJK0akhNWlylhg21X4Y2vcEayUaKgM4k8FySRWGY8PKWSCZWUqlaX1yQWSey6d0zTdti8bWI3MiRzktyQhH3S4abph7bddPLOSFGZQI8VFmiByVQ2imjhgrmazzVH2joV8CIfh/YYm32/6bMfSIySm081W8dNmqfDeerwpi+6TOAHlnFPKrgJq4jKMto4mxlCUxx8o6SPC9vGqwtaxj76DclDQzIiCYlqMrcha6/epS1WS3fMXmHOTmKJcWqUxbRLo5qlNckZSXZWJOu/kJiccPLtcDdZ4dmjWNvYvFfbtPFDRFW0MMkU0oy5ExEOXJ92ebRL/EaJeVY42Xim5EfoOl+dlY0bHF+R6ICqLln2PeIo1MyhuVDjwC+J1yslTxL/E98Ko1Fkmm7H2MjS33aax7J+QO3m07DG+C5Jjo2Sye1nXPKpf+lPsOX9Bv4z1GspvzsJXoy+Y+sJ/B6Z/easFPv8qH3k2a38/jMGxRVeR3kt73+DjbbLju6usBtmzRr3Xq9gHLLLa/wLj38pHSNe2KoAAAAASUVORK5CYII=" class="kg-image lazyload" alt="" loading="lazy" width="689" height="590" data-src="/assets/images/12tMGm-fire-alert-map.png" data-srcset="https://blog.lorisocchipinti.com/content/images/size/w600/2023/01/fire-alert-map.png 600w, https://blog.lorisocchipinti.com/content/images/2023/01/fire-alert-map.png 689w"><figcaption>Demo hotspots on the <strong><em>Fire Alert</em></strong> map</figcaption></figure><p>Analyzing these requirements, I realized that I needed an appropriate definition for a hotspot event that goes further than a single observation at a point in time. To this end, I personally designed a coarse heuristic: a hotspot event is determined by any number of observations happening within a 2km radius and within a 24 hours time window. Why the 2km figure? Well, under optimal conditions, the granularity of the source data is 1km, so I gave myself some slack and doubled that number to limit false positives. However, the Satellite error can be vastly greater (up to 5km) if a specific portion of the image is at the edges of the scan performed. It is possible to account for this deviation, but I chose to keep it simple for now.</p><h3 id="high-level-workflow">High-level workflow</h3><p>Keeping in mind the aforementioned premises, I am now able to properly explain how data ingestion in <em><strong>Fire Alert</strong></em> works. First of all, I call the satellite API hourly to get updated data over a specified area. I will get a report, with a certain number of observations. As mentioned above, I want to make sure that each record I am processing is truly unique: I combine the latitude, longitude, and time of the observation to derive a unique key and filter the occasional duplicate.</p><figure class="kg-card kg-image-card"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAANCAYAAABcrsXuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC2ElEQVQ4y51UX0hacRQ+3iy9pnZLadqGbMka620bPcQeNmgtNvClQU+xGDH20lisN4mhD+6tGAiD6KEFopGikyKEQUH/jNBiUFGUZqb2T8sHCeqlfb+LQrI9zA4cvuvx3vOd853z+xERaeA1CoVCDazs7e2t3dzc7E6lUr8ODg5Ce3t7ZqfTeW9iYqIxHo9/PTo6+p1Op33RaLR9dHTUsLu7+/bw8NB3cnLyE/guFAppI5EIIU7XrQZezfO8Eijv6+ur2t7ebgfBD/bx/v7+B7fbrQ8EAnfx/Bkx//Hx8XeQtLhcrjoU0QViRuJnJCsrKyIJ/i8iYckrQSIHSs1mM7+zs/MEJN34uCeZTD5DF1XT09MakLQi/hHxTiR56PF4NMCXeMeCuBXYtrq6KoCQstlsEUk5S85xXJlarZZ4vV7CB0pUdQeSGZCwenFxkVCxJJFIaGKxmAFkdUAeSSWQVg9/tLW19RjF6a+urrixsTHq6Oigf5rJZBIRL9LFxQXlcjm6vLwUfxf8/Py8KBYOh6uXl5eNwWDQODU1pamvr+eQgpPJZCLmvdiGhoYI1dPp6SllMhnRZ2ZmCDLQ2dmZGMdMJFgCWlpaqkSHT9FZD/DT2tra88HBQbZIFSqVisnPXFZEoNPpyO/3i9Ver575dWNDZcNdWFiogaSdKMoNiX2IdQ8PD99miQVBUAAVeaLSjREwn5ubE9CFCQTfQGbH2r4ZHx+vZXMGCQ/k/+rkf411AskIZ6IciY2QqgWL8AJ4H7JW4BUJlkhaWKobkUilUmpubiaLxUL9/f3lVqtVabPZVAMDA4WquXzym5Mwm52dpfn5efn6+voDrHAb/BUOYqPdbmc3B5ZLVphJSXJJCt7U1MSxZZicnBRwNloh2Re4dWNj4/XIyMgtNgu5XC7kbxN1KSRMgjLWfkNDg5SR+Hw+HWbRhUPqxQL4cR29dzgchvwNogUyQu0fctjA+/KY/DsAAAAASUVORK5CYII=" class="kg-image lazyload" alt="" loading="lazy" width="891" height="471" data-src="/assets/images/2mGDKN-foxtrot-ingestion-process.svg"></figure><p>At this point, I always take note of the new hotspot location. This is important for traceability, but also to gather historical data over time and be able to perform further analysis in the future. I believe that in autumn, after the wildfire season, I will have more significant observations to build more knowledge about this phenomenon.</p><p>The last step of the workflow is to apply my heuristic. I look for all recent fires that were reported in a radius of 2km from the new observation: if I find anything, it means that most likely there still is an ongoing fire in that location and I have to update the existing hotspot. Otherwise, I will ring a bell and report the new hotspot event, both on the <strong><em>Fire Alert </em></strong>dashboard and in the dedicated Telegram channel.</p><h3 id="working-with-spatial-data">Working with spatial data</h3><p>Due to the nature of my application, I needed to correctly process, persist and confront spatial data. Considering that I work with rather small distances, the distance between two pairs of coordinates can be roughly computed <em>as if </em>the Earth was flat (the Equirectangular approximation). However, it would be rather cumbersome and inefficient to search for all points within a certain radius, as I do with my heuristic, and makes it difficult to extend the dashboard with new features such as searching for events in specific geographical areas like some national wildlife park or, let's say, over the country of Greece.</p><p>In order words, I needed a Geographic Information System, or GIS. Fortunately, it is the case that Postgres supports a GIS module, unsurprisingly called PostGIS. The plugin enables new, interesting data types like <code>GEOMETRY</code> (an entity living on a Cartesian plane) or <code>GEOGRAPHY</code> (an entity best represented on the Earth's surface). For example, a hotspot event can be easily persisted as a record in the following table:</p><script src="https://gist.github.com/Ipanov7/7d1f95921c7631cbe46a5dba7342210e.js"></script><p>Using additional methods like <code>ST_Distance</code> and <code>ST_GeogFromText</code> (to parse a string representation of a <code>GEOGRAPHY</code> entity) it becomes trivial to select all hotspot events in the whereabouts of new observations:</p><script src="https://gist.github.com/Ipanov7/2ffcc8a7543fcf83cbe3d257d6dccc19.js"></script><p>Setting up PostGIS requires specific settings. To enable it on my RDS instance, I followed these <a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Appendix.PostgreSQL.CommonDBATasks.PostGIS.html#Appendix.PostgreSQL.CommonDBATasks.PostGIS.Connect">instructions</a>.</p><h3 id="conclusion">Conclusion</h3><p>In this post, I provided an under-the-hood overview of my work around my <strong><em>Fire Alert</em></strong> dashboard. I believe it gives the necessary clarity and context for the most curious users and on top of it <em>transparency</em> about how it works.</p><p>If you are an expert in treating geospatial data and have any opinion or - even better - <em>precious advice</em> to share, please feel free to do in the comment or via email. Your suggestions will be highly appreciated!</p><h3 id="references">References</h3><ul><li><a href="https://blog.lorisocchipinti.com/why-i-created-a-tool-to-track-wood-fires/" rel="noopener">I Built a Tool to Track Wildfires: This Is Why</a></li><li><a href="https://www.movable-type.co.uk/scripts/latlong.html">Calculate distance, bearing and more between Latitude/Longitude points</a></li><li><a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Appendix.PostgreSQL.CommonDBATasks.PostGIS.html#Appendix.PostgreSQL.CommonDBATasks.PostGIS.Connect">Managing spatial data with the PostGIS extension</a></li></ul></section></section></article></div></main></div><div class="viewport-bottom"><footer class="site-foot"><div class="site-foot-nav container"><div class="site-foot-nav-left"><a aria-current="page" class="" href="/">Loris Occhipinti </a>© 2020 – Published with <a class="site-foot-nav-item" href="https://ghost.org" target="_blank" rel="noopener noreferrer">Ghost</a></div><div class="site-foot-nav-right"><a class="site-foot-nav-item" href="/about/">About Me</a></div></div></footer></div></div><script>
            (function (selector, src, preferNativeLazyLoad) {
  var images = document.querySelectorAll(selector);
  var numImages = images.length;

  if (numImages > 0) {
    if (preferNativeLazyLoad && 'loading' in HTMLImageElement.prototype) {
      for (var i = 0; i < numImages; i++) {
        var keys = ['src', 'srcset'];

        for (var j = 0; j < keys.length; j++) {
          if (images[i].hasAttribute('data-' + keys[j])) {
            var value = images[i].getAttribute('data-' + keys[j]);
            images[i].setAttribute(keys[j], value);
          }
        }
      }

      return;
    }

    var script = document.createElement('script');
    script.async = true;
    script.src = src;
    document.body.appendChild(script);
  }
})(
              'img',
              'https://cdn.jsdelivr.net/npm/lazysizes@5/lazysizes.min.js',
              false
            );
          </script></body></html>